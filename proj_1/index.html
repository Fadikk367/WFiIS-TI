<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">
  <title>Fractal Tree Generaotr</title>
</head>
<body>
  <header>
    <h1>
      Fractal Tree Generator
      <span id="version">v1.0.0</span>
    </h1>
    <img src="./assets/info.svg" id="toggle-info-btn" alt="info icon">
  </header>
  <main>
    <aside>
      <section class="controls-section">
        <form name="tree-structure-form">
          <h3 class="form-header">Define main parameters:</h3>
          <label class="range-label">
            Split angle<br />
            <input type="range" id="angleInput" name="splitAngle" min="0" max="90" value="20"/>
          </label>
          <label class="range-label">
            Size<br />
            <input type="range" id="lengthInput" name="branchLength" min="100" max="200" value="100"/>
          </label>
          <label class="range-label">
            Recursion deepth<br />
            <input type="range" id="deepthInput" name="deepth" min="0" max="15" value="10"/>
          </label>
          <label class="range-label">
            Split angle variance<br />
            <input type="range" id="angleVarianceInput" name="splitAngleVariance" min="0" max="20" value="0"/>
          </label>
          <label class="range-label">
            Branch length variance<br />
            <input type="range" id="lengthVarianceInput" name="branchLengthVariance" min="0" max="60" value="0"/>
          </label>
          <label class="range-label">
            Branching probability<br />
            <input type="range" id="branchingProbabilityInput" name="splitProbability" min="0" max="100" value="100"/>
          </label>
          <label class="range-label">
            Seed
            <input type="number" id="seedInput" name="seed">
          </label>
        </form>
      </section>
      <section class="controls-section">
        <form name="treeThemeForm">
          <h3 class="form-header">Style your tree!</h3>
          <label class="range-label">
            Root thickness<br />
            <input type="range" name="rootThickness" min="5" max="20" value="10" id="root-thickness-input"/>
          </label>
          <div class="controls-row">
            <label class="cell-label">
              Leaves<br />
              <input type="checkbox" id="drawLeaves" name="isDrawingLeaves"/>
            </label>
            <label class="cell-label">
              Shadows<br />
              <input type="checkbox" id="drawShadows" name="isDrawingShadows"/>
            </label>
            <label class="cell-label">
              Color<br />
              <input type="color" id="branchColor" name="branchColor"/>
            </label>
          </div>
        </form>
      </section>
      <button id="grow-btn">Watch it grow!</button>
      </form>
    </aside>
    <div id="content">
      <canvas></canvas>
    </div>
  </main>
  <button id="download-btn">
    <img src="./assets/download.svg" alt="download icon">
    <span>Export to JPEG</span> 
  </button>
  <div id="modal">
    <div id="modal-content">
      <button id="close-modal-btn">&times;</button>
      <h2>What fractal is?</h2>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore impedit molestias laborum tempora eveniet harum autem dolorem repellat, rerum a modi molestiae beatae soluta eaque totam dolorum? Minus, nemo. Magni possimus placeat tempora laboriosam officiis ab fuga rem officia tempore quam, recusandae dolor odio earum nesciunt reiciendis perferendis nulla molestias!</p>
      <br />
      <figure>
        <img src="./assets/mandelbrots-set.jpg" alt="">
        <figcaption>Mandelbrots set</figcaption>
      </figure>
      <figure>
        <img src="./assets/fractal-example.jpg" alt="">
        <figcaption>Fractal example</figcaption>
      </figure>
      <h2>Examples of fractals in nature</h2>
      <br />
      <figure>
        <img src="./assets/Fractal_Broccoli.jpg" alt="">
        <figcaption>Rome Cauliflower</figcaption>
      </figure>
      <figure>
        <img src="./assets/aloes.jpg" alt="">
        <figcaption>Aloes</figcaption>
      </figure>
      <figure>
        <img src="./assets/snowflake.jpg" alt="">
        <figcaption>Snowflake</figcaption>
      </figure>
      

      <h2>Performance warnings</h2>
      <p>When recursion deepth is set to high value there migth be issues with fluency when changing other parameters. Therefore drawing leaves and shadows is turned off when playing structure parameters to improve user experience</p>

      <h2>Sources</h2>
      <ul>
        <li>[1] - </li>
        <li>[2] - </li>
        <li>[3] - </li>
      </ul>
    </div>
  </div>
  <script src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/lib/alea.min.js">
  </script>
  <script src='./main.js'></script>
</body>
</html>